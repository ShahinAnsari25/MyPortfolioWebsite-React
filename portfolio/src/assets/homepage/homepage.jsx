import "./homepage.css";
import { motion } from "framer-motion";
import { useTypewriter, Cursor } from "react-simple-typewriter";
import { getStorage, ref, getDownloadURL } from "firebase/storage";
import storage from "../firebaseConfig";
import { useEffect, useRef, useState } from "react";
import { saveAs } from "file-saver";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
const svgVariants = {
  hidden: { rotate: -180 },
  visible: {
    rotate: 0,
    transition: { duration: 1 },
  },
};
const pathVariants = {
  hidden: {
    fill: "rgb(237, 244, 2,0)",
    pathLength: 0,
  },
  visible: {
    fill: "rgb(237, 244, 2,1)",
    pathLength: 1,
    transition: {
      duration: 2,
      ease: "easeOut",
    },
  },
};
const Home = () => {
  const [isLoading, setIsLoading] = useState(false);

  const handleDownload = async () => {
    setIsLoading(true);
    const cvRef = ref(storage, "SHAHIN ANSARI Resume.pdf"); // Ensure correct path

    try {
      const url = await getDownloadURL(cvRef);
      fetch(url)
        .then((response) => response.blob())
        .then((blob) => {
          saveAs(blob, "SHAHIN ANSARI Resume.pdf");
          toast.success("Resume downloaded successfully.");
        })
        .catch((error) => {
          console.error("Error fetching file:", error);
        });
    } catch (error) {
      console.error("Error fetching download URL:", error);
    } finally {
      setIsLoading(false);
    }
  };
  const [text] = useTypewriter({
    words: [
      "Web Developer",
      "Full Stack Developer",
      "Front End Developer",
      "Back End Developer",
    ],
    loop: true,
    typeSpeed: 100,
    deleteSpeed: 80,
  });
  return (
    <div className="homePageConatiner">
      <div className="outerContainerHomePage">
        <div className="contentContainer">
          <h3
            className="nameContainer"
            style={{ display: "flex", alignItems: "center" }}
          >
            <p style={{ margin: "0px" }}>Hello, my name is</p>
            <motion.svg width="355" height="62.3" viewBox="-20 0 710.1 98.3">
              <g
                id="svgGroup"
                stroke-linecap="round"
                fill-rule="evenodd"
                font-size="9pt"
                stroke="#000"
                stroke-width="10mm"
                fill="#000"
                style={{
                  stroke: "#edf402",
                  strokeWidth: "1mm",
                  fill: "none",
                }}
                className="nameSvg"
              >
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 49.561 23.926 L 46.924 23.926 Q 46.924 15.967 41.064 10.767 A 20.241 20.241 0 0 0 31.143 6.031 A 28.554 28.554 0 0 0 25.879 5.566 A 34.412 34.412 0 0 0 19.604 6.106 Q 14.425 7.067 10.718 9.741 A 15.844 15.844 0 0 0 7.424 12.862 A 11.687 11.687 0 0 0 4.932 20.215 A 13.11 13.11 0 0 0 6.037 25.664 Q 7.289 28.442 9.961 30.518 Q 14.99 34.424 26.563 37.427 A 93.455 93.455 0 0 1 32.581 39.191 Q 38.466 41.149 42.127 43.449 A 22.564 22.564 0 0 1 43.506 44.385 A 16.98 16.98 0 0 1 48.239 49.542 Q 50.21 52.949 50.334 57.28 A 20.447 20.447 0 0 1 50.342 57.861 Q 50.342 63.232 47.314 67.358 A 17.782 17.782 0 0 1 42.1 72.054 A 23.529 23.529 0 0 1 38.721 73.73 A 30.75 30.75 0 0 1 30.826 75.711 A 38.818 38.818 0 0 1 26.221 75.977 A 39.925 39.925 0 0 1 18.465 75.253 A 31.979 31.979 0 0 1 12.354 73.413 A 23.33 23.33 0 0 1 7.554 70.754 A 17.784 17.784 0 0 1 3.101 66.113 A 18.928 18.928 0 0 1 0.194 58.047 A 24.379 24.379 0 0 1 0 54.932 L 2.637 54.932 A 18.627 18.627 0 0 0 3.596 61.051 A 15.384 15.384 0 0 0 9.18 68.506 Q 15.259 72.998 24.754 73.316 A 43.816 43.816 0 0 0 26.221 73.34 A 33.433 33.433 0 0 0 32.992 72.691 Q 37.906 71.675 41.602 69.067 A 15.619 15.619 0 0 0 45.232 65.584 A 12.535 12.535 0 0 0 47.656 57.959 A 16.143 16.143 0 0 0 47.264 54.313 A 12.002 12.002 0 0 0 45.532 50.269 A 14.026 14.026 0 0 0 43.055 47.521 Q 41.304 46.005 38.843 44.702 Q 35.03 42.683 27.964 40.58 A 145.254 145.254 0 0 0 25.049 39.746 Q 16.758 37.465 12.192 35.145 A 27.267 27.267 0 0 1 11.206 34.619 Q 7.295 32.425 5.155 29.635 A 13.388 13.388 0 0 1 4.443 28.613 Q 2.295 25.195 2.295 20.313 A 14.626 14.626 0 0 1 7.215 9.069 A 19.404 19.404 0 0 1 8.838 7.739 Q 14.918 3.27 24.412 2.954 A 44.039 44.039 0 0 1 25.879 2.93 A 30.147 30.147 0 0 1 33.082 3.76 A 25.197 25.197 0 0 1 38.159 5.591 Q 43.604 8.252 46.582 13.062 A 20.02 20.02 0 0 1 49.546 23.08 A 24.098 24.098 0 0 1 49.561 23.926 Z"
                  id="0"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 65.479 0 L 65.479 34.473 A 23.369 23.369 0 0 1 69.476 28.007 A 21.036 21.036 0 0 1 73.096 24.756 A 18.82 18.82 0 0 1 84.229 21.191 A 23.766 23.766 0 0 1 89.056 21.649 Q 93.998 22.676 96.851 26.001 Q 99.933 29.594 100.74 35.926 A 37.981 37.981 0 0 1 101.025 40.527 L 101.025 75 L 98.389 75 L 98.389 40.43 A 34.076 34.076 0 0 0 98.095 36 Q 97.379 30.787 94.922 27.856 A 10.569 10.569 0 0 0 90.073 24.646 Q 87.503 23.779 84.082 23.779 Q 77.246 23.779 72.241 28.638 A 23.584 23.584 0 0 0 66.442 37.833 A 30.03 30.03 0 0 0 65.479 41.162 L 65.479 75 L 62.842 75 L 62.842 0 L 65.479 0 Z"
                  id="1"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 154.736 75 L 151.709 75 A 19.469 19.469 0 0 1 151.194 72.608 Q 150.797 70.077 150.742 66.523 A 75.893 75.893 0 0 1 150.732 65.332 A 21.192 21.192 0 0 1 142.188 73.193 A 25.261 25.261 0 0 1 133.261 75.803 A 31.184 31.184 0 0 1 129.932 75.977 A 21.909 21.909 0 0 1 124.84 75.417 A 15.188 15.188 0 0 1 118.14 71.997 A 13.087 13.087 0 0 1 113.69 62.417 A 17.684 17.684 0 0 1 113.672 61.621 A 12.945 12.945 0 0 1 118.176 51.564 A 18.209 18.209 0 0 1 120.239 49.976 A 24.449 24.449 0 0 1 127.346 46.817 Q 131.911 45.56 137.695 45.508 L 150.732 45.508 L 150.732 37.793 A 16.919 16.919 0 0 0 150.216 33.492 A 11.754 11.754 0 0 0 146.558 27.49 A 13.598 13.598 0 0 0 141.579 24.772 Q 139.528 24.131 137.05 23.925 A 29.415 29.415 0 0 0 134.619 23.828 A 23.218 23.218 0 0 0 128.996 24.476 A 17.313 17.313 0 0 0 122.559 27.539 A 13.659 13.659 0 0 0 119.66 30.501 A 10.561 10.561 0 0 0 117.725 36.719 L 115.088 36.621 A 13.049 13.049 0 0 1 119.252 27.004 A 18.869 18.869 0 0 1 120.752 25.684 A 20.616 20.616 0 0 1 131.152 21.406 A 27.195 27.195 0 0 1 134.619 21.191 A 27.694 27.694 0 0 1 140.193 21.719 Q 144.932 22.693 148.193 25.464 A 14.298 14.298 0 0 1 153.012 33.944 A 20.932 20.932 0 0 1 153.369 37.5 L 153.369 62.744 A 87.364 87.364 0 0 0 153.444 66.512 Q 153.675 71.826 154.613 74.259 A 7.322 7.322 0 0 0 154.736 74.561 L 154.736 75 Z M 150.732 60.742 L 150.732 48.193 L 138.525 48.193 A 45.817 45.817 0 0 0 132.003 48.627 Q 128.668 49.107 125.965 50.122 A 19.154 19.154 0 0 0 121.191 52.686 Q 116.309 56.348 116.309 61.816 A 10.373 10.373 0 0 0 119.643 69.539 A 13.856 13.856 0 0 0 120.166 70.02 A 13.488 13.488 0 0 0 127.19 73.191 A 18.378 18.378 0 0 0 129.932 73.389 A 27.815 27.815 0 0 0 136.232 72.707 A 21.288 21.288 0 0 0 142.7 70.068 A 20.566 20.566 0 0 0 150.732 60.742 Z"
                  id="2"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 172.998 0 L 172.998 34.473 A 23.369 23.369 0 0 1 176.995 28.007 A 21.036 21.036 0 0 1 180.615 24.756 A 18.82 18.82 0 0 1 191.748 21.191 A 23.766 23.766 0 0 1 196.576 21.649 Q 201.517 22.676 204.37 26.001 Q 207.453 29.594 208.259 35.926 A 37.981 37.981 0 0 1 208.545 40.527 L 208.545 75 L 205.908 75 L 205.908 40.43 A 34.076 34.076 0 0 0 205.614 36 Q 204.898 30.787 202.441 27.856 A 10.569 10.569 0 0 0 197.593 24.646 Q 195.023 23.779 191.602 23.779 Q 184.766 23.779 179.761 28.638 A 23.584 23.584 0 0 0 173.961 37.833 A 30.03 30.03 0 0 0 172.998 41.162 L 172.998 75 L 170.361 75 L 170.361 0 L 172.998 0 Z"
                  id="3"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 228.369 22.168 L 228.369 75 L 225.732 75 L 225.732 22.168 L 228.369 22.168 Z M 224.365 5.664 Q 224.365 4.541 225.147 3.735 A 2.546 2.546 0 0 1 226.981 2.93 A 3.087 3.087 0 0 1 227.051 2.93 A 2.627 2.627 0 0 1 228.954 3.71 A 3.244 3.244 0 0 1 228.98 3.735 A 2.69 2.69 0 0 1 229.657 4.82 A 2.738 2.738 0 0 1 229.785 5.664 A 2.546 2.546 0 0 1 229.029 7.519 A 3.081 3.081 0 0 1 228.98 7.568 A 2.673 2.673 0 0 1 227.051 8.35 A 2.657 2.657 0 0 1 225.841 8.076 A 2.685 2.685 0 0 1 225.147 7.568 A 2.587 2.587 0 0 1 224.365 5.699 A 3.205 3.205 0 0 1 224.365 5.664 Z"
                  id="4"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 248.34 22.168 L 248.34 34.473 A 23.369 23.369 0 0 1 252.337 28.007 A 21.036 21.036 0 0 1 255.957 24.756 A 18.82 18.82 0 0 1 267.09 21.191 A 23.766 23.766 0 0 1 271.917 21.649 Q 276.859 22.676 279.712 26.001 Q 282.794 29.594 283.601 35.926 A 37.981 37.981 0 0 1 283.887 40.527 L 283.887 75 L 281.25 75 L 281.25 40.43 A 34.076 34.076 0 0 0 280.956 36 Q 280.24 30.787 277.783 27.856 A 10.569 10.569 0 0 0 272.935 24.646 Q 270.364 23.779 266.943 23.779 Q 260.107 23.779 255.103 28.638 A 23.584 23.584 0 0 0 249.303 37.833 A 30.03 30.03 0 0 0 248.34 41.162 L 248.34 75 L 245.703 75 L 245.703 22.168 L 248.34 22.168 Z"
                  id="5"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  d="M 371.143 75 L 363.184 53.76 L 328.369 53.76 L 320.459 75 L 317.578 75 L 344.189 3.906 L 347.412 3.906 L 374.023 75 L 371.143 75 Z M 345.801 7.08 L 329.346 51.123 L 362.207 51.123 L 345.801 7.08 Z"
                  id="7"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 386.719 22.168 L 386.719 34.473 A 23.369 23.369 0 0 1 390.716 28.007 A 21.036 21.036 0 0 1 394.336 24.756 A 18.82 18.82 0 0 1 405.469 21.191 A 23.766 23.766 0 0 1 410.296 21.649 Q 415.238 22.676 418.091 26.001 Q 421.173 29.594 421.98 35.926 A 37.981 37.981 0 0 1 422.266 40.527 L 422.266 75 L 419.629 75 L 419.629 40.43 A 34.076 34.076 0 0 0 419.335 36 Q 418.619 30.787 416.162 27.856 A 10.569 10.569 0 0 0 411.314 24.646 Q 408.743 23.779 405.322 23.779 Q 398.486 23.779 393.481 28.638 A 23.584 23.584 0 0 0 387.682 37.833 A 30.03 30.03 0 0 0 386.719 41.162 L 386.719 75 L 384.082 75 L 384.082 22.168 L 386.719 22.168 Z"
                  id="8"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 473.975 36.279 L 471.289 36.279 A 10.689 10.689 0 0 0 467.726 28.193 A 14.746 14.746 0 0 0 466.797 27.393 A 15.851 15.851 0 0 0 460.522 24.422 Q 458.203 23.87 455.491 23.831 A 28.83 28.83 0 0 0 455.078 23.828 Q 449.889 23.828 446.313 25.524 A 13.027 13.027 0 0 0 444.092 26.855 A 11.217 11.217 0 0 0 441.702 29.227 A 8.616 8.616 0 0 0 440.039 34.424 Q 440.039 37.988 441.553 40.015 Q 443.066 42.041 446.484 43.677 A 27.272 27.272 0 0 0 448.926 44.687 Q 451.947 45.786 456.445 46.826 Q 460.739 47.82 463.855 49.044 A 27.205 27.205 0 0 1 466.797 50.391 A 18.609 18.609 0 0 1 469.358 52.035 Q 470.715 53.084 471.649 54.285 A 10.296 10.296 0 0 1 472.314 55.249 A 11.378 11.378 0 0 1 473.73 58.967 A 16.014 16.014 0 0 1 474.023 62.109 A 12.239 12.239 0 0 1 472.742 67.749 Q 471.46 70.264 468.897 72.168 A 18.353 18.353 0 0 1 462.393 75.181 Q 459.85 75.827 456.868 75.949 A 34.456 34.456 0 0 1 455.469 75.977 A 31.977 31.977 0 0 1 449.526 75.456 Q 444.626 74.529 441.138 71.948 A 14.347 14.347 0 0 1 437.728 68.466 A 12.031 12.031 0 0 1 435.693 61.572 L 438.33 61.572 A 11.727 11.727 0 0 0 439.531 66.111 A 11.078 11.078 0 0 0 443.237 70.239 A 16.1 16.1 0 0 0 447.987 72.413 Q 451.25 73.34 455.469 73.34 Q 462.549 73.34 466.968 70.044 A 12.824 12.824 0 0 0 469.438 67.672 A 8.896 8.896 0 0 0 471.387 62.061 A 10.052 10.052 0 0 0 467.025 53.777 Q 463.335 50.965 456.525 49.323 A 56.035 56.035 0 0 0 454.981 48.975 A 66.738 66.738 0 0 1 450.164 47.775 Q 445.528 46.419 442.78 44.687 A 13.039 13.039 0 0 1 441.26 43.579 Q 437.402 40.283 437.402 34.521 A 11.322 11.322 0 0 1 441.159 25.923 A 15.335 15.335 0 0 1 442.31 24.951 A 17.498 17.498 0 0 1 448.919 21.873 Q 451.38 21.277 454.25 21.202 A 31.907 31.907 0 0 1 455.078 21.191 A 29.137 29.137 0 0 1 460.785 21.718 Q 464.235 22.407 466.94 23.999 A 16.633 16.633 0 0 1 468.799 25.269 A 13.056 13.056 0 0 1 473.913 34.797 A 17.401 17.401 0 0 1 473.975 36.279 Z"
                  id="9"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 525.732 75 L 522.705 75 A 19.469 19.469 0 0 1 522.19 72.608 Q 521.793 70.077 521.738 66.523 A 75.893 75.893 0 0 1 521.729 65.332 A 21.192 21.192 0 0 1 513.184 73.193 A 25.261 25.261 0 0 1 504.257 75.803 A 31.184 31.184 0 0 1 500.928 75.977 A 21.909 21.909 0 0 1 495.836 75.417 A 15.188 15.188 0 0 1 489.136 71.997 A 13.087 13.087 0 0 1 484.686 62.417 A 17.684 17.684 0 0 1 484.668 61.621 A 12.945 12.945 0 0 1 489.172 51.564 A 18.209 18.209 0 0 1 491.235 49.976 A 24.449 24.449 0 0 1 498.342 46.817 Q 502.907 45.56 508.691 45.508 L 521.729 45.508 L 521.729 37.793 A 16.919 16.919 0 0 0 521.213 33.492 A 11.754 11.754 0 0 0 517.554 27.49 A 13.598 13.598 0 0 0 512.575 24.772 Q 510.524 24.131 508.046 23.925 A 29.415 29.415 0 0 0 505.615 23.828 A 23.218 23.218 0 0 0 499.992 24.476 A 17.313 17.313 0 0 0 493.555 27.539 A 13.659 13.659 0 0 0 490.657 30.501 A 10.561 10.561 0 0 0 488.721 36.719 L 486.084 36.621 A 13.049 13.049 0 0 1 490.248 27.004 A 18.869 18.869 0 0 1 491.748 25.684 A 20.616 20.616 0 0 1 502.148 21.406 A 27.195 27.195 0 0 1 505.615 21.191 A 27.694 27.694 0 0 1 511.189 21.719 Q 515.928 22.693 519.189 25.464 A 14.298 14.298 0 0 1 524.008 33.944 A 20.932 20.932 0 0 1 524.365 37.5 L 524.365 62.744 A 87.364 87.364 0 0 0 524.44 66.512 Q 524.671 71.826 525.609 74.259 A 7.322 7.322 0 0 0 525.732 74.561 L 525.732 75 Z M 521.729 60.742 L 521.729 48.193 L 509.522 48.193 A 45.817 45.817 0 0 0 502.999 48.627 Q 499.664 49.107 496.961 50.122 A 19.154 19.154 0 0 0 492.188 52.686 Q 487.305 56.348 487.305 61.816 A 10.373 10.373 0 0 0 490.639 69.539 A 13.856 13.856 0 0 0 491.162 70.02 A 13.488 13.488 0 0 0 498.186 73.191 A 18.378 18.378 0 0 0 500.928 73.389 A 27.815 27.815 0 0 0 507.228 72.707 A 21.288 21.288 0 0 0 513.696 70.068 A 20.566 20.566 0 0 0 521.729 60.742 Z"
                  id="10"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 564.941 21.729 L 564.648 24.072 L 561.231 23.779 A 17.114 17.114 0 0 0 555.307 24.772 A 15.194 15.194 0 0 0 549.951 28.149 Q 545.593 32.343 544.113 39.753 A 33.798 33.798 0 0 0 543.994 40.381 L 543.994 75 L 541.357 75 L 541.357 22.168 L 543.994 22.168 L 543.994 33.154 A 21.026 21.026 0 0 1 547.039 27.739 A 18.227 18.227 0 0 1 550.439 24.414 A 15.74 15.74 0 0 1 556.847 21.608 A 22.016 22.016 0 0 1 561.231 21.191 Q 562.818 21.191 563.986 21.449 A 6.856 6.856 0 0 1 564.941 21.729 Z"
                  id="11"
                  vector-effect="non-scaling-stroke"
                />
                <motion.path
                  variants={pathVariants}
                  initial="hidden"
                  animate="visible"
                  d="M 578.076 22.168 L 578.076 75 L 575.439 75 L 575.439 22.168 L 578.076 22.168 Z M 574.072 5.664 Q 574.072 4.541 574.854 3.735 A 2.546 2.546 0 0 1 576.688 2.93 A 3.087 3.087 0 0 1 576.758 2.93 A 2.627 2.627 0 0 1 578.661 3.71 A 3.244 3.244 0 0 1 578.687 3.735 A 2.69 2.69 0 0 1 579.364 4.82 A 2.738 2.738 0 0 1 579.492 5.664 A 2.546 2.546 0 0 1 578.736 7.519 A 3.081 3.081 0 0 1 578.687 7.568 A 2.673 2.673 0 0 1 576.758 8.35 A 2.657 2.657 0 0 1 575.548 8.076 A 2.685 2.685 0 0 1 574.854 7.568 A 2.587 2.587 0 0 1 574.073 5.699 A 3.205 3.205 0 0 1 574.072 5.664 Z"
                  id="12"
                  vector-effect="non-scaling-stroke"
                />
              </g>
            </motion.svg>
          </h3>
          <h3>
            I am a <h3 className="h2">{text}</h3>
            <span>
              <Cursor></Cursor>
            </span>
          </h3>

          <p style={{ fontSize: "17px" }} className="paraHomepage">
            Motivated and detail-oriented software developer with extensive
            experience in the MERN stack. Proficient in both front-end and
            back-end development, with strong skills in MongoDB, Express.js,
            React.js, Node.js, HTML, CSS and Bootstrap. Seeking a challenging
            tech position where I can leverage my expertise to build innovative
            solutions, contribute to dynamic projects, and enhance user
            experiences.
          </p>

          <button
            type="button"
            class="btn btn-primary"
            style={{
              backgroundColor: "#edf402",
              borderColor: "#edf402",
              color: "black",
            }}
            onClick={handleDownload}
            disabled={isLoading}
          >
            {isLoading ? "Downloading..." : "Download CV"}
          </button>
        </div>
        <motion.div
          initial={{ y: 20 }}
          animate={{ y: [20, -20, 20] }}
          transition={{
            duration: "2",
            delay: "1",
            ease: "easeInOut",
            repeat: Infinity,
            repeatType: "loop",
          }}
          className="imageContainer"
        ></motion.div>
      </div>
    </div>
  );
};
export default Home;
